{"schemas":"DEFINE TABLE OVERWRITE refresh_token SCHEMALESS\n    PERMISSIONS\n        FOR select, create, update, delete WHERE true;\n\nDEFINE FIELD OVERWRITE user ON TABLE refresh_token TYPE record<user> ASSERT $value != NONE;\nDEFINE FIELD OVERWRITE token_hash ON TABLE refresh_token TYPE string ASSERT $value != NONE;\nDEFINE FIELD OVERWRITE expires_at ON TABLE refresh_token TYPE datetime ASSERT $value != NONE;\nDEFINE FIELD OVERWRITE created_at ON TABLE refresh_token TYPE datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE updated_at ON TABLE refresh_token TYPE datetime DEFAULT time::now();\n\nDEFINE INDEX OVERWRITE token_hash_idx ON TABLE refresh_token FIELDS token_hash;\nDEFINE INDEX OVERWRITE user_idx ON TABLE refresh_token FIELDS user;\n\nDEFINE TABLE OVERWRITE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD OVERWRITE script_name ON script_migration TYPE string;\nDEFINE FIELD OVERWRITE executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE FIELD OVERWRITE checksum ON script_migration TYPE option<string>;\n\nDEFINE TABLE OVERWRITE user SCHEMALESS;\n\nDEFINE FIELD OVERWRITE name ON user TYPE string;\nDEFINE FIELD OVERWRITE email ON user TYPE string;\nDEFINE FIELD OVERWRITE password ON user TYPE string;\nDEFINE FIELD OVERWRITE created_at ON user TYPE datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE updated_at ON user TYPE datetime DEFAULT time::now();\n\nDEFINE INDEX OVERWRITE user_email_idx ON TABLE user COLUMNS email UNIQUE;\nDEFINE INDEX OVERWRITE user_name_idx ON TABLE user COLUMNS name;\n","events":"DEFINE TABLE OVERWRITE user SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON user;\n\nDEFINE EVENT OVERWRITE user ON TABLE user WHEN $event == \"UPDATE\" THEN (\n    UPDATE user SET updated_at = time::now() WHERE id = $after.id\n);\n"}